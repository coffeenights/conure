apiVersion: core.conure.io/v1alpha1
kind: Application
metadata:
  name: first-app
  labels:
    conure.io/application-id: "65c084eaff5e41522cc80f99"
    conure.io/organization-id: "65d6db08a7d5cf185f75e6d2"
    conure.io/namespace: "65d6db08a7d5cf185f75e6d2-65c084eaff5e41522cc80f99-development"
    conure.io/environment: "development"
    conure.io/created-by: "6599082303bedbfeb7243ada"
    conure.io/account-id: "6599082303bedbfeb7243ada"
spec:
  components:
    - name: backend-service
      type: webservice
      values:
        resources:
          replicas: 1
          cpu: 0.2
          memory: 256
        source:
          repository_type: "github" # "docker" || "github" || "gitlab" || "bitbucket"
          repository: "coffeenights/django:latest"
          build:
            dockerfile: "Dockerfile"
            context: "."
          command: "python manage.py runserver 0.0.0.0:9091"
        network:
          exposed: true
          type: public
          ports:
            - host_port: 9091
              container_port: 9091
              protocol: "tcp"
        storage:
          - size: 2
            name: backend-service-pvc
            mount_path: "/mnt/storage"
          - size: 3
            name: backend-service-2-pvc
            mount_path: "/mnt/storage2"
